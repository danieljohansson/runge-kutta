{"ts":1353773260433,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"\n// ============================================ //\n// Single\n// ============================================ //\n\n/*/\nvar stepSize = 0.075;\nvar tSpan = [1, 30];\nvar f = function (t, y) { return 2/t*y + t*t*Math.cos(t); };\nvar y = function (x) { return x*x*(Math.sin(x) + 1 - Math.sin(1)); };\nvar y0 = 1;\n//*/\n\n/*/\nvar stepSize = 1/6;\nvar tSpan = [0, 4.3];\nvar f = function (t, y) { return -2*t*t*t + 12*t*t - 20*t + 17/2; };\nvar y = function (t) { return -1/2*t*t*t*t + 4*t*t*t - 10*t*t + 17/2*t; };\nvar y0 = 0;\n//*/\n\n/*/\nvar stepSize = 1/12;\nvar tSpan = [0, 1];\nvar f = function (t, y) { return y; };\nvar y = function (t) { return Math.pow(Math.E, t); };\nvar y0 = 1;\n//*/\n\n/*/\nvar stepSize = 1/60;\nvar tSpan = [0, 0.3];\nvar f = function (t, y) { return -15*y; };\nvar y = function (x) { return Math.pow(Math.E, -15*x); };\nvar y0 = 1;\n//*/\n\n/*/\nvar stepSize = 0.025;\nvar tSpan = [0, 0.5];\nvar f = function (t, y) { return y - t*t + 1; };\nvar y = function (t) { return t*t + 2*t + 1 - 0.5*Math.pow(Math.E, t); };\nvar y0 = 0.5;\n//*/\n\n/*/\nconsole.log(' ');\nvar sol;\nvar p = new Plot();\np.setSize(800, 600);\n\nvar t = linspace(tSpan[0], tSpan[1], 200); \np.plot(t, t.map(y), 'gray'); // exact\n\nsol = euler(f, tSpan, y0, stepSize);\np.plot(sol.t, sol.y, 'red', 'x');\nlogError('euler', sol, y);\n\nsol = heun(f, tSpan, y0, 2*stepSize);\np.plot(sol.t, sol.y, 'orange', 'o');\nlogError('heun', sol, y);\n\nsol = midpoint(f, tSpan, y0, 2*stepSize);\np.plot(sol.t, sol.y, 'lightblue');\nlogError('midpoint', sol, y);\n\nsol = rk4(f, tSpan, y0, 4*stepSize);\np.plot(sol.t, sol.y, 'green', 'box');\nlogError('rk4', sol, y);\n\nsol = dp45(f, tSpan, y0);\np.plot(sol.t, sol.y, 'darkcyan');\nlogError('dp45', sol, y);\n\nsol = dp54(f, tSpan, y0);\np.plot(sol.t, sol.y, 'purple', 'o');\nlogError('dp54', sol, y);\n//*/\n\n\n//*/ =========\n// dp45 vs. dp54 ? \n// dp54 is awesomest\n\nvar t, sol, p = [];\nvar tSpan = [], f = [], y = [], y0 = [];\n\ntSpan[0] = [0, 10];\nf[0] = function (t, y) { return y - t*t + 1; };\ny[0] = function (t) { return t*t + 2*t + 1 - 0.5*Math.pow(Math.E, t); };\ny0[0] = 0.5;\n\ntSpan[1] = [0, 40];\nf[1] = function (t, y) { return Math.sin(5*t); };\ny[1] = function (t) { return -1/5*Math.cos(5*t); };\ny0[1] = -1/5;\n\ntSpan[2] = [1, 25];\nf[2] = function (t, y) { return 2/t*y + t*t*Math.cos(t); };\ny[2] = function (t) { return t*t*(Math.sin(t) + 1 - Math.sin(1)); };\ny0[2] = 1;\n\ntSpan[3] = [0, 2.75];\nf[3] = function (t, y) { return 3*t*y; };\ny[3] = function (t) { return Math.exp(3*t*t/2); };\ny0[3] = 1;\n\ntSpan[4] = [0, 1.57];\nf[4] = function (t, y) { return y*y + 1; };\ny[4] = function (t) { return Math.tan(t); };\ny0[4] = 0;\n\nfor (var i = 0; i <= 4; i++) {\n    \n    console.log(' ');\n    p[i] = new Plot();\n    p[i].setSize(350, 250);\n    \n    p[i].axisOn();\n    \n    t = linspace(tSpan[i][0], tSpan[i][1], 300); \n    p[i].plot(t, t.map(y[i]), 'gray'); // exact\n    \n    sol = dp45(f[i], tSpan[i], y0[i], 1e-2, 0.1);\n    p[i].plot(sol.t, sol.y, 'red', '+');\n    logError(i + ' dp45', sol, y[i]);\n    \n    sol = dp54(f[i], tSpan[i], y0[i], 1e-2, 0.1);\n    p[i].plot(sol.t, sol.y, 'royalblue', 'o');\n    logError(i + ' dp54', sol, y[i]);\n}\n\n//*/\n\n\n\n\n\n\n\n\n\n\n\n"]],"start1":0,"start2":0,"length1":0,"length2":3131}]],"length":3131}
